{{#if townId}}
    <h1>Edit town</h1>
{{else}}
    <h1>Add town</h1>
{{/if}}
{{#each errors}}
    <div class="alert alert-danger">
        {{msg}}
    </div>
{{/each}}
<form method="post" enctype="multipart/form-data" action="{{#if townId}}/town/edit/{{townId}}{{else}}/town/create{{/if}}">
    <h2>Town Information</h2>
    <p>This information will help people find your town on the site and visit it in-game.</p>
    <div class="form-group">
        <label for="town-name">Town Name</label>
        <input type="text" name="town-name" class="form-control" id="town-name"
               aria-describedby="town-name-help" placeholder="Enter town name" maxlength="10"
               {{#if townName}}value="{{townName}}"{{/if}}>
        <small id="list-name-help" class="form-text text-muted">
            Enter the name of your town as shown in-game. If your town uses special characters, please enter an
            approximate name.
        </small>
    </div>
    <div class="form-group">
        <label for="town-address">Address</label>
        <input type="text" name="town-address" class="form-control" id="town-address"
               aria-describedby="town-address-help" placeholder="DA-XXXX-XXXX-XXXX"
               {{#if townAddress}}value="{{townAddress}}"{{/if}} maxlength="17">
        <small id="town-address-help" class="form-text text-muted">
            Your dream address given to you by Luna. Please include DA-.
        </small>
    </div>
    <div class="form-group">
        <label for="town-description">Description</label>
        <textarea name="town-description" class="form-control" id="town-description"
               aria-describedby="town-description-help" maxlength="4096">{{townDescription}}</textarea>
        <small id="town-description-help" class="form-text text-muted">
            Be as descriptive as possible. Why would someone love your town? Town descriptions are searchable by
            guests and users.
        </small>
    </div>
    <div class="form-group">
        <label for="town-tags">Tags</label>
        <input type="text" name="town-tags" class="form-control" id="town-tags"
               aria-describedby="town-tags-help" placeholder="Optional tags, separated by commas"
               {{#if townTags}}value="{{townTags}}"{{/if}}>
        <small id="town-tags-help" class="form-text text-muted">
            Tags help people find your town. For example, &quot;cottagecore, horror, minimalist&quot;.
        </small>
    </div>
    <h2>Images</h2>
    {{#unless townId}}
        <p>Upload an image that encourage people to visit your island!</p>
        {{> file-upload id="file1" name="primary-image" description="Town image (required)" }}
    {{else}}
        <div class="row mb-2">
            <div class="col-12 col-md-2 text-center mb-2">
                <img class="img-fluid" src="/images/towns/thumb/{{image}}" alt="Town image" />
            </div>
            <div class="col-12 col-md-10">
                {{> file-upload id="file1" name="primary-image" description="Replace image" }}
            </div>
        </div>
    {{/unless}}
    <button type="submit" name="submit" class="btn btn-primary">Submit</button>
</form>